"use strict";const{app:r,BrowserWindow:a,screen:h,ipcMain:p}=require("electron"),n=require("node:path"),f=require("fs"),o=()=>{const l=h.getPrimaryDisplay(),{width:d,height:c}=l.size,e=new a({width:d,height:c,x:0,y:0,backgroundColor:"#00000000",transparent:!0,alwaysOnTop:!0,resizable:!1,frame:!1,thickFrame:!1,hasShadow:!1,skipTaskbar:!0,fullscreen:!1,visibleOnFullScreen:!0,webPreferences:{preload:n.join(__dirname,"preload.js"),devTools:!1}});e.setFullScreen(!0),e.setIgnoreMouseEvents(!0,{forward:!0}),p.handle("set-ignore-mouse-events",(s,i,t)=>{e.setIgnoreMouseEvents(i,{forward:t||!1})});try{e.setVisibleOnAllWorkspaces(!0,{visibleOnFullScreen:!0})}catch{}if(!r.isPackaged||process.env.NODE_ENV==="development")e.loadURL("http://localhost:5173");else{const s=[n.join(__dirname,"../renderer/main_window/index.html"),n.join(__dirname,"../.vite/renderer/main_window/index.html"),n.join(process.resourcesPath,"app/.vite/renderer/main_window/index.html"),n.join(process.resourcesPath,"app/renderer/main_window/index.html")];let i=!1;for(const t of s)try{if(f.existsSync(t)){e.loadFile(t),i=!0;break}}catch{}i||console.error("Could not find renderer HTML file. Tried paths:",s)}};r.whenReady().then(()=>{process.platform==="darwin"&&r.dock.hide(),o(),r.on("activate",()=>{a.getAllWindows().length===0&&o()})});r.on("window-all-closed",()=>{process.platform!=="darwin"&&r.quit()});
